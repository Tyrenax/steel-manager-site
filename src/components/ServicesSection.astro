---
const services = [
  {
    title: 'Développement sur mesure',
    description: 'Applications métier adaptées à VOS processus : ERP, GPAO, WMS, CRM... Nous partons de votre réalité terrain, pas d\'un template générique.',
    features: ['Modules personnalisés', 'Intégration existant', 'Évolutif'],
    image: '/images/wood-manager-features.png',
    imageAlt: 'Logiciel Wood Manager - Développement sur mesure',
    icon: `<path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5" />`
  },
  {
    title: 'Intégration systèmes',
    description: 'Connexion de vos outils existants : ERP, machines, capteurs IoT, APIs tierces. Fini la double saisie et les fichiers Excel qui circulent.',
    features: ['Multi-systèmes', 'Temps réel', 'APIs robustes'],
    image: '/images/factory-touchscreen.png',
    imageAlt: 'Écran tactile Steel Manager en usine',
    icon: `<path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244" />`
  },
  {
    title: 'Audit & Diagnostic',
    description: 'Nous venons sur le terrain. Nous observons vos équipes, vos processus, vos goulots. Vous recevez un rapport actionnable avec un plan clair.',
    features: ['Analyse terrain', 'Recommandations', "Plan d'action"],
    image: '/images/team-factory.png',
    imageAlt: 'Équipe DevTeix en immersion dans une usine',
    icon: `<path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />`
  },
  {
    title: 'Apps terrain & mobiles',
    description: 'Applications pour vos équipes en atelier : pointage, contrôle qualité, inventaire, maintenance. Fonctionnent même hors connexion.',
    features: ['Mode offline', 'Interface simple', 'Synchronisation'],
    image: '/images/phone-factory.jpg',
    imageAlt: 'Application mobile Steel Manager utilisée en atelier',
    icon: `<path stroke-linecap="round" stroke-linejoin="round" d="M10.5 1.5H8.25A2.25 2.25 0 006 3.75v16.5a2.25 2.25 0 002.25 2.25h7.5A2.25 2.25 0 0018 20.25V3.75a2.25 2.25 0 00-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3" />`
  }
];
---

<section id="services" class="section-soft section-spacing section-anchor-line">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Header -->
    <div class="max-w-2xl mb-16" data-aos="fade-up">
      <span class="badge badge-primary mb-4">Nos services</span>
      <h2 class="text-3xl sm:text-4xl font-bold text-dark mb-4">
        Des solutions pour chaque défi
      </h2>
      <p class="text-text-light text-lg">
        Nous ne vendons pas de logiciel sur étagère. Nous construisons avec vous l'outil qui correspond exactement à votre métier.
      </p>
    </div>

    <!-- Services - Alternating rows -->
    <div class="space-y-14 lg:space-y-20">
      {services.map((service, index) => {
        const isReversed = index % 2 === 1;
        return (
          <div class="grid lg:grid-cols-2 gap-8 lg:gap-14 items-center">
            <!-- Image -->
            <div
              class={`relative ${isReversed ? 'lg:order-2' : 'lg:order-1'}`}
              data-aos={isReversed ? 'fade-left' : 'fade-right'}
              data-aos-duration="400"
            >
              <div class="relative group">
                <!-- Glow behind image -->
                <div class={`absolute -inset-2 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 ${index % 2 === 0 ? 'bg-primary/8' : 'bg-accent/8'}`}></div>
                <div class="relative rounded-2xl overflow-hidden shadow-xl border border-primary/10">
                  <img
                    src={service.image}
                    alt={service.imageAlt}
                    class="w-full h-auto object-cover"
                    style="aspect-ratio: 16/10;"
                    loading="lazy"
                  />
                </div>
              </div>
            </div>

            <!-- Text content -->
            <div
              class={isReversed ? 'lg:order-1' : 'lg:order-2'}
              data-aos={isReversed ? 'fade-right' : 'fade-left'}
              data-aos-duration="400"
              data-aos-delay="100"
            >
              <!-- Service number + icon -->
              <div class="flex items-center gap-3 mb-5">
                <div class="w-11 h-11 rounded-xl bg-primary/5 border border-primary/10 flex items-center justify-center">
                  <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                    <Fragment set:html={service.icon} />
                  </svg>
                </div>
                <span class="text-sm font-semibold text-primary/40">0{index + 1}</span>
              </div>

              <h3 class="text-2xl lg:text-3xl font-bold text-dark mb-4">
                {service.title}
              </h3>
              <p class="text-text-light text-base leading-relaxed mb-6">
                {service.description}
              </p>

              <!-- Features tags -->
              <div class="flex flex-wrap gap-2 mb-6">
                {service.features.map((feature) => (
                  <span class="text-xs px-3 py-1.5 bg-white border border-border rounded-full text-text-light font-medium">
                    {feature}
                  </span>
                ))}
              </div>

              <a href="#contact" class="inline-flex items-center gap-2 text-primary font-medium text-sm hover:gap-3 transition-all">
                En savoir plus
                <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
                </svg>
              </a>
            </div>
          </div>
        );
      })}
    </div>

    <!-- CTA -->
    <div class="text-center mt-16" data-aos="fade-up">
      <a href="#contact" class="btn btn-primary">
        Discuter de votre projet
        <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
        </svg>
      </a>
    </div>
  </div>
</section>
